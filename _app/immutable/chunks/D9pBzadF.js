import{af as L,ag as j,ah as g,ai as q,J as x,n as T,aj as z,W as B,ak as M,al as P,_ as U,u as W,am as $,an as G}from"./Blx9tMFz.js";const J=()=>performance.now(),c={tick:r=>requestAnimationFrame(r),now:()=>J(),tasks:new Set};function R(){const r=c.now();c.tasks.forEach(t=>{t.c(r)||(c.tasks.delete(t),t.f())}),c.tasks.size!==0&&c.tick(R)}function K(r){let t;return c.tasks.size===0&&c.tick(R),{promise:new Promise(a=>{c.tasks.add(t={c:r,f:a})}),abort(){c.tasks.delete(t)}}}function E(r,t){g(()=>{r.dispatchEvent(new CustomEvent(t))})}function D(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function S(r){const t={},a=r.split(";");for(const i of a){const[n,s]=i.split(":");if(!n||s===void 0)break;const f=D(n.trim());t[f]=s.trim()}return t}const H=r=>r;function X(r,t,a,i){var n=(r&$)!==0,s=(r&G)!==0,f=n&&s,w=(r&j)!==0,N=f?"both":n?"in":"out",v,d=t.inert,m=t.style.overflow,u,p;function h(){return g(()=>v??=a()(t,i?.()??{},{direction:N}))}var e={is_global:w,in(){if(t.inert=d,!n){p?.abort(),p?.reset?.();return}s||u?.abort(),E(t,"introstart"),u=A(t,h(),p,1,()=>{E(t,"introend"),u?.abort(),u=v=void 0,t.style.overflow=m})},out(k){if(!s){k?.(),v=void 0;return}t.inert=!0,E(t,"outrostart"),p=A(t,h(),u,0,()=>{E(t,"outroend"),k?.()})},stop:()=>{u?.abort(),p?.abort()}},_=L;if((_.transitions??=[]).push(e),n&&z){var l=w;if(!l){for(var o=_.parent;o&&(o.f&B)!==0;)for(;(o=o.parent)&&(o.f&M)===0;);l=!o||(o.f&P)!==0}l&&U(()=>{W(()=>e.in())})}}function A(r,t,a,i,n){var s=i===1;if(q(t)){var f,w=!1;return x(()=>{if(!w){var _=t({direction:s?"in":"out"});f=A(r,_,a,i,n)}}),{abort:()=>{w=!0,f?.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(a?.deactivate(),!t?.duration)return n(),{abort:T,deactivate:T,reset:T,t:()=>i};const{delay:N=0,css:v,tick:d,easing:m=H}=t;var u=[];if(s&&a===void 0&&(d&&d(0,1),v)){var p=S(v(0,1));u.push(p,p)}var h=()=>1-i,e=r.animate(u,{duration:N,fill:"forwards"});return e.onfinish=()=>{e.cancel();var _=a?.t()??1-i;a?.abort();var l=i-_,o=t.duration*Math.abs(l),k=[];if(o>0){var F=!1;if(v)for(var C=Math.ceil(o/16.666666666666668),y=0;y<=C;y+=1){var I=_+l*m(y/C),O=S(v(I,1-I));k.push(O),F||=O.overflow==="hidden"}F&&(r.style.overflow="hidden"),h=()=>{var b=e.currentTime;return _+l*m(b/o)},d&&K(()=>{if(e.playState!=="running")return!1;var b=h();return d(b,1-b),!0})}e=r.animate(k,{duration:o,fill:"forwards"}),e.onfinish=()=>{h=()=>i,d?.(i,1-i),n()}},{abort:()=>{e&&(e.cancel(),e.effect=null,e.onfinish=T)},deactivate:()=>{n=T},reset:()=>{i===0&&d?.(1,0)},t:()=>h()}}const Q=r=>r;function Y(r,{delay:t=0,duration:a=400,easing:i=Q}={}){const n=+getComputedStyle(r).opacity;return{delay:t,duration:a,easing:i,css:s=>`opacity: ${s*n}`}}export{Y as f,X as t};
