import{h,z as g,y as D,W as R,X as m,H as x,B as C,C as F,D as y,Y as L,I as E,c as Y,U as q,Z as B,P as H,Q as O,K as P,_ as U,r as Z,u as z,J,$ as K}from"./Blx9tMFz.js";function Q(s,t,c=!1){h&&g();var i=s,e=null,a=null,r=q,I=c?R:0,u=!1;const N=(l,f=!0)=>{u=!0,v(f,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,f=r?a:e;l&&H(l),f&&O(f,()=>{r?a=null:e=null})}const v=(l,f)=>{if(r===(r=l))return;let b=!1;if(h){const S=m(i)===x;!!r===S&&(i=C(),F(i),y(!1),b=!0)}var T=B(),d=i;if(T&&(n=document.createDocumentFragment(),n.append(d=L())),r?e??=f&&E(()=>f(d)):a??=f&&E(()=>f(d)),T){var _=Y,k=r?e:a,p=r?a:e;k&&_.skipped_effects.delete(k),p&&_.skipped_effects.add(p),_.add_callback(o)}else o();b&&y(!0)};D(()=>{u=!1,t(N),u||v(null,null)},I),h&&(i=P)}function A(s,t){return s===t||s?.[K]===t}function W(s={},t,c,i){return U(()=>{var e,a;return Z(()=>{e=a,a=i?.()||[],z(()=>{s!==c(...a)&&(t(s,...a),e&&A(c(...e),s)&&t(null,...e))})}),()=>{J(()=>{a&&A(c(...a),s)&&t(null,...a)})}}),s}export{W as b,Q as i};
