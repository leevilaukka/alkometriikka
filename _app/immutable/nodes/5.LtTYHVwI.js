import{r as Ke,e as Ge}from"../chunks/JCeqF_CI.js";import"../chunks/hii8YTFM.js";import{m as Ye,b as ye,k as h,ad as He,y as k,ae as Je,v as r,z as Ue,x as t,w as o,n as be,a9 as x,e as _,g as Ne,f as E,d as ve,j as s,ac as F,ag as we}from"../chunks/DDtI3ySZ.js";import{P as Qe,a as Re}from"../chunks/DADVxvfE.js";import{i as U,b as We}from"../chunks/MADWfPdD.js";import{e as Q,a as R,s as A}from"../chunks/Bxanz9Be.js";import{f as Xe,e as ke,h as Ze,P as de,B as $e,A as ea,a as aa,j as ta}from"../chunks/T_EVkrq1.js";import{A as e,x as ra,h as ce,I as W,F as la,D as oa,e as V,H as j,t as I,f as X,g as C,J as sa,K as D}from"../chunks/D2H9T7Pv.js";import{a as ia}from"../chunks/DZtLSn5d.js";import{p as na}from"../chunks/D-OOAyNg.js";async function da({parent:B,params:a}){const w=await B(),y=await w.alko,S=a.id?.split("/")[0];return S||Ke(300,"/"),y.kaljakori.findById(S)||Ge(404,{message:"Tuotetta ei löytynyt"}),w}const Oa=Object.freeze(Object.defineProperty({__proto__:null,load:da},Symbol.toStringTag,{value:"Module"}));var ca=(B,a)=>a().showModal(),va=h("<button><span>Lisää listaan ja vertaa!</span> <!></button>"),ua=h('<h2 class="text-xl">Valitse lista</h2> <!>',1),ma=h("<p> </p>"),fa=h('<p class="flex flex-row gap-2 items-center"> </p>'),xa=h('<a class="flex shrink-0 flex-row gap-3 rounded-lg border border-primary p-4"><div class="flex h-36 aspect-square w-fit shrink-0 rounded bg-white p-2 md:max-w-fit"><!></div> <div class="flex flex-col gap-2"><h2 class="line-clamp-3 text-xl font-bold md:text-2xl"> </h2> <span> </span> <p class="text-3xl font-bold drop-shadow-lg"> </p> <span class="text-sm text-secondary"> </span></div></a>'),pa=h('<details><summary class="text-2xl font-bold mb-2">Muut koot</summary> <div class="flex max-w-full flex-col flex-nowrap gap-3"></div></details>'),_a=h('<a class="flex w-48 shrink-0 flex-col gap-3 rounded-lg border border-primary p-4"><div class="flex h-[calc(3_*_2.5rem)] flex-col gap-2 md:h-[calc(3_*_2.75rem)]"><h2 class="line-clamp-3 text-xl font-bold md:text-2xl"> </h2> <span> </span></div> <div class="flex aspect-square w-full shrink-0 rounded bg-white p-2 md:max-w-fit"><!></div> <div class="flex flex-col gap-2"><p class="text-3xl font-bold drop-shadow-lg"> </p> <span class="text-sm text-secondary"> </span></div></a>'),ga=h('<div class="flex items-center justify-between"><h2 class="text-2xl font-bold">Samankaltaisia tuotteita</h2> <a><span>Lisää samankaltaisia</span> <!></a></div> <div class="flex max-w-full flex-row flex-nowrap gap-3 overflow-x-auto"></div>',1),ha=h('<div><div class="flex w-full items-center gap-4"><a href="/"><!> <span>Etusivulle</span></a></div> <header class="grid w-full grid-cols-1 gap-6 md:grid-cols-[auto_1fr]"><div class="flex aspect-square h-96 w-full max-w-full rounded bg-white p-6 md:w-fit"><!></div> <div class="flex w-full flex-col justify-between gap-3"><div class="flex flex-col gap-2"><h1 class="text-2xl font-bold md:text-3xl"> </h1> <span> </span> <p class="w-fit rounded bg-gray-100 px-1 dark:bg-zinc-700 dark:text-white"> </p> <div class="flex w-full flex-row gap-2 md:flex-row"><!></div></div> <div class="flex flex-col items-end gap-1"><p class="text-4xl font-bold"> </p> <span class="text-sm text-secondary"> </span></div></div></header> <div class="grid grid-cols-1 md:grid-cols-[2fr_1fr] w-full gap-4 md:justify-end"><!> <a target="_blank" rel="noopener noreferrer" referrerpolicy="no-referrer"><span>Alkon tuotesivu</span> <!></a></div> <div class="flex w-full flex-col gap-4 rounded border border-primary bg-secondary p-4"><div class="flex flex-col items-start gap-0.5 md:flex-row md:gap-3"><div class="flex flex-col gap-0.5 md:gap-1"><h2 class="text-xl font-bold">Perustiedot</h2> <!></div></div> <div class="flex flex-col gap-0.5 md:gap-1"><h2 class="text-xl font-bold">Laskennalliset tiedot</h2> <!></div></div> <!> <!></div>');function ba(B,a){ye(a,!0);let w,y=Xe(a.product,a.kaljakori,new Set([e.Type,e.SubType,e.BeerType,e.Price,e.BottleSize,e.Sugar,e.PackagingType,e.AlcoholGramsPerEuro,e.GrapeVarieties,e.Description]),20);ia(()=>{w?.scrollIntoView({behavior:"smooth"})});function S(n){function m(d){d.deltaY!=0&&(d.preventDefault(),n.scrollBy({left:d.deltaY}))}return n.addEventListener("wheel",m),{destroy(){n.removeEventListener("wheel",m)}}}ra({description:`Katso ${a.product[e.Name]} -tuotteen tiedot, hinnat ja vastaavat tuotteet Alkometriikasta.`,og:{title:ce(`${a.product[e.Name]}`),description:`Katso ${a.product[e.Name]} -tuotteen tiedot, hinnat ja vastaavat tuotteet Alkometriikasta.`,url:`https://alkometriikka.fi/tuotteet/${a.product[e.Number]}`},image:{alt:a.product[e.Name],url:ke(a.product[e.Number],a.product[e.Name],"medium"),width:"160",height:"192"},twitter:{card:"summary_large_image",title:ce(`${a.product[e.Name]}`),description:`Katso ${a.product[e.Name]} -tuotteen tiedot, hinnat ja vastaavat tuotteet Alkometriikasta.`,image:ke(a.product[e.Number],a.product[e.Name],"medium")}});const P=Ze(a.product,a.kaljakori);var g=ha();He(n=>{k(m=>Je.title=m,[()=>ce(`${a.product[e.Name]}`)])});var L=r(g),Z=r(L),je=r(Z);W(je,{name:"home",class:"inline-block"}),Ue(2),t(Z),t(L);var $=o(L,2),ee=r($),Be=r(ee);de(Be,{get number(){return a.product[e.Number]},get name(){return a.product[e.Name]},transform:"medium",get alt(){return a.product[e.Name]}}),t(ee);var ue=o(ee,2),ae=r(ue),M=r(ae),Se=r(M,!0);t(M);var te=o(M,2),Pe=r(te);t(te);var re=o(te,2),Ae=r(re,!0);t(re);var me=o(re,2),Le=r(me);$e(Le,{get item(){return a.product}}),t(me),t(ae);var fe=o(ae,2),q=r(fe),ze=r(q);t(q);var xe=o(q,2),Oe=r(xe);t(xe),t(fe),t(ue),t($);var le=o($,2),pe=r(le);Qe(pe,{class:"gap-4 p-4",renderButton:(d,i=be)=>{var l=va();l.__click=[ca,i];var c=o(r(l),2);W(c,{name:"plus"}),t(l),k(v=>C(l,1,v),[()=>V(I(X.button({type:"positive",size:"lg"}),"py-3 px-5 text-xl justify-between w-full"))]),_(d,l)},renderContent:(d,i=be)=>{var l=ua(),c=o(E(l),2);ea(c,{action:v=>{aa(v,a.product[e.Number]),i().close()}}),_(d,l)},$$slots:{renderButton:!0,renderContent:!0}});var K=o(pe,2),Te=o(r(K),2);W(Te,{name:"link_external",class:"inline-block"}),t(K),t(le);var oe=o(le,2),se=r(oe),_e=r(se),Ve=o(r(_e),2);Q(Ve,17,()=>Object.entries(la),R,(n,m)=>{var d=F(()=>we(s(m),2));let i=()=>s(d)[1];const l=F(()=>j(a.product[i()]).length>0);var c=ve(),v=E(c);{var u=f=>{var p=ma(),b=r(p,!0);t(p),k(N=>x(b,N),[()=>j(a.product[i()],i())]),_(f,p)};U(v,f=>{s(l)&&!sa.has(i())&&f(u)})}_(n,c)}),t(_e),t(se);var ge=o(se,2),Ie=o(r(ge),2);Q(Ie,17,()=>Object.entries(oa),R,(n,m)=>{var d=F(()=>we(s(m),2));let i=()=>s(d)[1];var l=ve(),c=E(l);{var v=u=>{var f=fa(),p=r(f,!0);t(f),k(b=>x(p,b),[()=>j(a.product[i()],i())]),_(u,f)};U(c,u=>{a.product[i()]!==null&&a.product[i()]!==void 0&&u(v)})}_(n,l)}),t(ge),t(oe);var he=o(oe,2);{var Ce=n=>{var m=pa(),d=o(r(m),2);Q(d,21,()=>P.sort((i,l)=>i[e.BottleSize]-l[e.BottleSize]),R,(i,l)=>{var c=xa(),v=r(c),u=r(v);de(u,{get number(){return s(l)[e.Number]},get name(){return s(l)[e.Name]},get alt(){return s(l)[e.Name]},class:"block aspect-square h-full w-full object-contain"}),t(v);var f=o(v,2),p=r(f),b=r(p,!0);t(p);var N=o(p,2),G=r(N,!0);t(N);var z=o(N,2),O=r(z);t(z);var Y=o(z,2),H=r(Y);t(Y),t(f),t(c),k((T,ie,J,ne)=>{A(c,"href",`/tuotteet/${s(l)[e.Number]}`),x(b,T),x(G,ie),x(O,`${J??""} €`),x(H,`${ne??""} (${s(l)[e.PricePerLiter]??""} €/L)`)},[()=>`${s(l)[e.Name]} (${D(s(l)[e.BottleSize],e.BottleSize)})`,()=>D(s(l)[e.AlcoholPercentage],e.AlcoholPercentage),()=>s(l)[e.Price].toFixed(2),()=>D(s(l)[e.BottleSize],e.BottleSize)]),_(i,c)}),t(d),t(m),_(n,m)};U(he,n=>{P.length&&n(Ce)})}var De=o(he,2);{var Ee=n=>{var m=ga(),d=E(m),i=o(r(d),2),l=o(r(i),2);W(l,{name:"arrow_right"}),t(i),t(d);var c=o(d,2);Q(c,21,()=>y,R,(v,u)=>{var f=_a(),p=r(f),b=r(p),N=r(b,!0);t(b);var G=o(b,2),z=r(G,!0);t(G),t(p);var O=o(p,2),Y=r(O);de(Y,{get number(){return s(u)[e.Number]},get name(){return s(u)[e.Name]},get alt(){return s(u)[e.Name]},class:"block aspect-square h-full w-full object-contain"}),t(O);var H=o(O,2),T=r(H),ie=r(T);t(T);var J=o(T,2),ne=r(J);t(J),t(H),t(f),k((Fe,Me,qe)=>{A(f,"href",`/tuotteet/${s(u)[e.Number]}`),x(N,s(u)[e.Name]),x(z,Fe),x(ie,`${Me??""} €`),x(ne,`${qe??""} (${s(u)[e.PricePerLiter]??""} €/L)`)},[()=>D(s(u)[e.AlcoholPercentage],e.AlcoholPercentage),()=>s(u)[e.Price].toFixed(2),()=>D(s(u)[e.BottleSize],e.BottleSize)]),_(v,f)}),t(c),ta(c,v=>S?.(v)),k(v=>{C(i,1,v),A(i,"href",`/vastaavat/${a.product[e.Number]}`)},[()=>V(I(X.button({size:"md"})))]),_(n,m)};U(De,n=>{y.length&&n(Ee)})}t(g),We(g,n=>w=n,()=>w),k((n,m,d,i,l,c,v,u,f)=>{C(g,1,n),C(Z,1,m),A(M,"data-product",a.product[e.Name]),x(Se,a.product[e.Name]),x(Pe,`${d??""} | ${i??""} | ${l??""}
					${c??""}`),x(Ae,a.product[e.Availability]),A(q,"data-price",v),x(ze,`${u??""} €`),x(Oe,`(${a.product[e.PricePerLiter]??""} €/L)`),A(K,"href",`https://www.alko.fi/tuotteet/${a.product[e.Number]}`),C(K,1,f)},[()=>V(I("mx-auto flex w-full max-w-[120ch] flex-col flex-nowrap gap-6 p-6")),()=>V(I(X.button({size:"md"}))),()=>j(a.product[e.Manufacturer],e.Manufacturer),()=>j(a.product[e.BottleSize],e.BottleSize),()=>j(a.product[e.AlcoholPercentage],e.AlcoholPercentage),()=>a.product[e.Vintage]!==""?`| ${j(a.product[e.Vintage],e.Vintage)}`:"",()=>`${a.product[e.Price].toFixed(2)} €`,()=>a.product[e.Price].toFixed(2),()=>V(I(X.button({size:"md"}),"py-3 px-5 text-xl w-full"))]),_(B,g),Ne()}Ye(["click"]);var wa=h('<div class="grid h-full w-full place-content-center"><div class="flex flex-col items-center gap-3"><span class="block h-16 w-16 animate-spin rounded-full border-[0.5rem] border-red-600 border-b-transparent"></span> <p>Ladataan...</p></div></div>');function Ta(B,a){ye(a,!0);let w=F(()=>na.params.id?.split("/")[0]);var y=ve(),S=E(y);Re(S,()=>a.data.alko,P=>{var g=wa();_(P,g)},(P,g)=>{const L=F(()=>s(g).kaljakori.findById(s(w)));ba(P,{get product(){return s(L)},get kaljakori(){return s(g).kaljakori}})}),_(B,y),Ne()}export{Ta as component,Oa as universal};
